Would we know if a supernova was about to hit the Earth?