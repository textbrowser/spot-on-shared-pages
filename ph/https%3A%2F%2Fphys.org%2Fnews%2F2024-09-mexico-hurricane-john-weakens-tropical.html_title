Two killed in Mexico as Hurricane John weakens to tropical storm