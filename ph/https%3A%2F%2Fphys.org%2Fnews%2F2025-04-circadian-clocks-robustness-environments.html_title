How circadian clocks maintain robustness in changing environments