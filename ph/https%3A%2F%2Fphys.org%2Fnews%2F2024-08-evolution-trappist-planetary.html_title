The evolution of the Trappist-1 planetary system