The dynamic battle between Mars's atmosphere and solar wind