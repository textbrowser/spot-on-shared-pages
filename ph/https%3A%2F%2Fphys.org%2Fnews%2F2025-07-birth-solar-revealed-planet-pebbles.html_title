The birth of a solar system revealed by planet 'pebbles'