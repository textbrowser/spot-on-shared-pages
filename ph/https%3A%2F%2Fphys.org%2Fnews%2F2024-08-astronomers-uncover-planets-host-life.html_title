Astronomers uncover risks to planets that could host life