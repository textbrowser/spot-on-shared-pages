When coal smoke choked St. Louis, residents fought back, but it took time and money